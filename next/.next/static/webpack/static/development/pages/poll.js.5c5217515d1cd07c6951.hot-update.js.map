{"version":3,"file":"static/webpack/static\\development\\pages\\poll.js.5c5217515d1cd07c6951.hot-update.js","sources":["webpack:///./pages/poll.js"],"sourcesContent":["import fetch from 'isomorphic-unfetch';\r\nimport Poll_View from '../component/Poll_View';\r\nimport Layout from '../component/Layout';\r\nimport Error_View from '../component/Error_View';\r\nimport { urlConfig } from '../utility';\r\n\r\nlet chart;\r\n\r\nconst Poll = (props) => {\r\n    return (\r\n        <Layout>\r\n            {\r\n                props.poll ?\r\n                    <Poll_View\r\n                        poll={props.poll}\r\n                    />\r\n                    :\r\n                    <Error_View statusCode={props.statusCode} />\r\n            }\r\n        </Layout>\r\n\r\n    );\r\n}\r\n\r\nPoll.getInitialProps = async ({ query: { id } }) => {\r\n    const res = await fetch(`${urlConfig.protocol}://${urlConfig.host}/api/polls/${id}`);\r\n    if (res.status === 200) {\r\n        const data = await res.json();\r\n        if (data) {\r\n            data.id = id;\r\n            return { poll: data };\r\n        }\r\n    }\r\n    const statusCode = res ? (res.status !== 200 ? res.status : 404 ): null;\r\n    return { statusCode }\r\n\r\n};\r\n\r\nexport default Poll;"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAKA;AADA;AAIA;AAAA;AAKA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AACA;AACA;AAFA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AACA;AADA;AAGA;AACA;AAJA;AAAA;AAAA;AAAA;AACA;AAIA;AALA;AAMA;AAAA;AACA;AAPA;AASA;AATA;AAUA;AAAA;AACA;AAXA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AAaA;;;;;;;;;;;;;;;;;;;;;;;A","sourceRoot":""}